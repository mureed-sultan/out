(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8531],{68564:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/booking/[slug]",function(){return a(58505)}])},58505:function(e,s,a){"use strict";a.r(s);var i=a(85893),n=a(67294),t=a(28738),l=a(25675),c=a.n(l),r=a(9198),o=a.n(r);a(93933);var m=a(11163),d=a(99811),h=a(41664),p=a.n(h),x=a(45007),u=a(89387),j=a(86664),v=a(2859),N=a(5121);let g=(0,v.J)("pk_test_51NrAbDJg7cutnHyJPK1FwBUWAU5FED356Kwo86zvhLI8t7v76qOBZpFn26luZoW8r3QVtsUSXnv8LTR9FJK5yZJl005hfil25t");function f(){let e=(0,m.useRouter)(),{slug:s}=e.query,[a,l]=(0,n.useState)(),[r,h]=(0,n.useState)(null),[u,v]=(0,n.useState)(1),[g,f]=(0,n.useState)(""),[b,y]=(0,n.useState)(""),[k,w]=(0,n.useState)(0),[C,P]=(0,n.useState)(""),[M,S]=(0,n.useState)(""),[_,A]=(0,n.useState)(1),[E,F]=(0,n.useState)(1),[D,T]=(0,n.useState)([]),[I,Z]=(0,n.useState)({name:"",email:"",phoneNumber:"",otp:""}),[q,O]=(0,n.useState)(null),[B,z]=(0,n.useState)(""),[W,H]=(0,n.useState)(null),[L,U]=(0,n.useState)([]),[J,R]=(0,n.useState)({}),V=(0,x.v9)(e=>e.auth),Y=(0,j.useStripe)(),K=(0,j.useElements)(),[X,G]=(0,n.useState)(null),[Q,$]=(0,n.useState)(!1),[ee,es]=(0,n.useState)(""),[ea,ei]=(0,n.useState)(""),[en,et]=(0,n.useState)(!1),[el,ec]=(0,n.useState)(""),{auth:er}=e.query;(0,n.useEffect)(()=>{V.name||"guest"===er||e.push("/auth/".concat(s))},[]);let eo=e=>{let{name:s,value:a}=e.target;Z(e=>({...e,[s]:a}))},em=e=>{let s=e.target.files;s&&T(Array.from(s))};(0,n.useEffect)(()=>{ef()},[b]);let ed=(e,s)=>{R(a=>({...a,[e]:s}))};(0,n.useEffect)(()=>{let e=async()=>{try{let e=await d.Z.fetch('\n                *[_type == "product" &&status==true && slug == "'.concat(s,'"][0]{\n                    title,\n                    "imageUrl": images.asset->url,\n                    price,\n                    rating,\n                    moverpackage,\n                    paymentType,\n                    teamvisit,\n                    shortDescription,\n                    qnasection\n                }'));l(e),ec(e.qnasection[0].choices[0].value)}catch(e){console.error("Error fetching product data:",e)}};(async()=>{try{if("guest"!==er){let e=await d.Z.fetch("*[_type == 'user' && username == '".concat(V.name,"'][0]"));e&&e.locations&&U(e.locations)}}catch(e){console.error("Error fetching user data:",e)}})(),s&&e()},[s,er,V.name]);let eh=e=>{let s=new Date;s.setHours(0,0,0,0),e&&e<s?alert("Please select a date in the future or today."):h(e)},ep=r?"".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0")):"",ex=async()=>{if((await d.Z.fetch('\n                *[_type == "order" && username == "'.concat(V.name,'" && titleOfWork == "').concat(a?a.title:"",'" && workingDate == "').concat(ep,'"]\n            '))).length>0){alert("Order already exists for this user, title of work, and date.");return}if("guest"==er){if(I.name){if(I.email){if(!I.phoneNumber){alert("Please enter your phone number");return}}else{alert("Please enter your email");return}}else{alert("Please enter your name");return}}if(a)r?g?C?a||alert("Product field is missing."):alert("City field is missing."):alert("Booking time field is missing."):alert("Selected date field is missing.");else{alert("Product field is missing.");return}if("Card"==b){$(!0),es("");let e=el?eN(parseInt(el),W):eN(a.price*E*_,W);e*=100,$(!1);try{let{clientSecret:s}=(await N.Z.post("/api/payment",{amount:e,currency:"aed",items:[{name:a.title,quantity:1}]})).data;if(ei(s),!Y||!K)return;let{error:i}=await Y.confirmCardPayment(s,{payment_method:{card:K.getElement(j.CardElement),billing_details:{name:"guest"===er?I.name:V.name}}});i?es("Error Dont know"):et(!0)}catch(e){console.error("Error:",e),es("An error occurred while processing the payment."),$(!1);return}$(!1)}try{let e=eN(a.price*E*_,W);if("Wallet"===b){let s=await d.Z.fetch('\n                        *[_type == "walletTransaction" && user == "'.concat(V.name,'"][0]\n                    '));if(!s||s.walletBalance<e){alert("Your wallet balance is not sufficient to place this order.");return}let a=s.walletBalance-e;await d.Z.patch(s._id).set({walletBalance:a}).commit()}let s=await d.Z.create({_type:"order",username:"guest"===er?I.name:V.name,email:"guest"===er?I.email:V.email,titleOfWork:a.title,workingDate:ep,hoursNeeded:g,location:C,professionalsNeeded:E,totalHoursNeeded:_,phone:"guest"===er?I.phoneNumber:"0",status:"Pending",costproduct:el?eN(parseInt(el),W):eN(a.price*E*_,W).toFixed(0),paymentType:b||"not selected",instruction:M||"Empty",image1:D[0]?await eu(D[0]):null,image2:D[1]?await eu(D[1]):null,image3:D[2]?await eu(D[2]):null,image4:D[3]?await eu(D[3]):null,image5:D[4]?await eu(D[4]):null,origionalPrice:parseInt(el)?eN(parseInt(el),""):parseInt(eN(a.price*E*_,"").toFixed(0)),questionsAndAnswers:Object.entries(J).map(e=>{let[s,a]=e;return{_key:new Date().toISOString(),question:s,answer:a}})});if(v(3),"guest"!==er&&q)try{let e=await d.Z.fetch("*[_type == 'user' && username == '".concat(V.name,"'][0]")),s=[...e.locations,{_key:"".concat(Date.now()),title:C,latitude:0,longitude:0}];await d.Z.patch(e._id).set({locations:s}).commit()}catch(e){console.error("Error updating user data with location coordinates:",e)}return s}catch(e){throw console.error("Error creating order:",e),Error("Failed to create order")}},eu=async e=>({_type:"image",asset:{_type:"reference",_ref:(await d.Z.assets.upload("image",e))._id}}),ej=async()=>{if(!B.trim()){alert("Please enter a coupon code.");return}try{let e=await d.Z.fetch('*[_type == "couponCode" && couponCode == "'.concat(B,'"][0]'));e?(H(e),alert('Coupon code "'.concat(B,'" applied successfully!'))):alert("Invalid coupon code. Please enter a valid coupon code.")}catch(e){console.error("Error applying coupon:",e),alert("An error occurred while applying the coupon. Please try again later.")}},ev=e=>{z(e.target.value)},eN=(e,s)=>{if(s){if("percentage"===s.couponType)return e*(1-s.couponValue/100);if("fixed"===s.couponType)return e-s.couponValue}return e},eg=e=>{let{value:s}=e.target;P(s),L.find(e=>e.title===s)},ef=async()=>{if("Wallet"===b)try{let e=await d.Z.fetch('\n                    *[_type == "walletTransaction" && user == "'.concat(V.name,'"][0]\n                '));w(e.walletBalance)}catch(e){console.error("Error fetching wallet transactions:",e)}};return(0,i.jsx)(t.Z,{children:a?(0,i.jsxs)("div",{className:"main-wrapper bkd-page",children:[(0,i.jsxs)("div",{className:"bg-img",children:[(0,i.jsx)(c(),{width:100,height:150,src:"/assets/img/bg/work-bg-03.png",alt:"img",className:"bgimg1"}),(0,i.jsx)(c(),{width:100,height:150,src:"/assets/img/bg/work-bg-03.png",alt:"img",className:"bgimg2"}),(0,i.jsx)(c(),{width:100,height:150,src:"/assets/img/bg/feature-bg-03.png",alt:"img",className:"bgimg3"})]}),(0,i.jsx)("div",{className:"content",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col-lg-10 mx-auto",children:[(0,i.jsxs)("ul",{className:"step-register row",children:[(0,i.jsxs)("li",{className:"col-md-4 ".concat(1===u?"active":""),children:[(0,i.jsx)("div",{className:"multi-step-icon",children:(0,i.jsx)(c(),{width:100,height:150,src:"/assets/img/icons/calendar-icon.svg",alt:"img"})}),(0,i.jsxs)("div",{onClick:()=>{v(1)},className:"multi-step-info",children:[(0,i.jsx)("h6",{children:"Appointment"}),(0,i.jsx)("p",{children:"Choose time & date for the service"})]})]}),(0,i.jsxs)("li",{className:"col-md-4 ".concat(2===u?"active":""),children:[(0,i.jsx)("div",{className:"multi-step-icon",children:(0,i.jsx)(c(),{width:100,height:150,src:"/assets/img/icons/wallet-icon.svg",alt:"img"})}),(0,i.jsxs)("div",{onClick:()=>{v(2)},className:"multi-step-info",children:[(0,i.jsx)("h6",{children:"Payment"}),(0,i.jsx)("p",{children:"Select Payment Gateway"})]})]}),(0,i.jsxs)("li",{className:"col-md-4 ".concat(3===u?"active":""),children:[(0,i.jsx)("div",{className:"multi-step-icon",children:(0,i.jsx)(c(),{width:100,height:150,src:"/assets/img/icons/book-done.svg",alt:"img"})}),(0,i.jsxs)("div",{className:"multi-step-info",children:[(0,i.jsx)("h6",{children:"Done "}),(0,i.jsx)("p",{children:"Completion of Booking"})]})]})]}),(()=>{switch(u){case 1:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"booking-service",children:(0,i.jsx)("div",{className:"row align-items-center",children:(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsxs)("div",{className:"service-book",children:[(0,i.jsx)("div",{className:"service-book-img",children:(0,i.jsx)(c(),{width:100,height:150,src:a.imageUrl,alt:"img"})}),(0,i.jsxs)("div",{className:"serv-profile",children:[(0,i.jsx)("h2",{children:a.title}),(0,i.jsxs)("h5",{className:"fw-normal mb-3",children:[" ",(0,i.jsx)("span",{children:"AED"})," ",el||eN(a.price*E*_,W).toFixed(0)," ","- (",(0,i.jsx)("span",{children:a.paymentType}),")"]}),(0,i.jsx)("h6",{className:"fw-bold mb-2 bold-800",children:a.shortDescription}),(0,i.jsx)("p",{dangerouslySetInnerHTML:{__html:"<p>".concat(a.teamvisit?a.teamvisit:"<span> </span>","</p>")}})]})]})})})}),(0,i.jsx)("div",{className:"book-form",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-md-6",children:(0,i.jsxs)("div",{className:"form-group d-flex flex-column justify-content-center",children:[(0,i.jsx)("label",{className:"col-form-label font-size-18",children:"My Address is;"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter the address of Dubai only",value:C,onChange:e=>{P(e.target.value),eg(e)},className:"input text-section",list:"locationsList"}),(0,i.jsx)("datalist",{id:"locationsList",children:L.map(e=>(0,i.jsx)("option",{value:e.title},e._key))}),(0,i.jsx)("div",{children:(0,i.jsxs)("label",{htmlFor:"",className:"d-flex flex-column font-size-18",children:["Please add any specific instruction",(0,i.jsx)("textarea",{onChange:e=>{S(e.target.value)},className:"input text-inputarea text-section margin-10-textarea",placeholder:"Your text here",id:"",rows:4})]})})]})}),(0,i.jsxs)("div",{className:"col-md-6",children:["Per Hour"===a.paymentType?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"col-form-label font-size-18",children:"Service Hours"}),(0,i.jsxs)("select",{className:"select",value:_,onChange:e=>{A(parseInt(e.target.value))},children:[(0,i.jsx)("option",{value:0,children:"0"}),(0,i.jsx)("option",{value:1,children:"1"}),(0,i.jsx)("option",{value:2,children:"2"}),(0,i.jsx)("option",{value:3,children:"3"}),(0,i.jsx)("option",{value:4,children:"4"}),(0,i.jsx)("option",{value:5,children:"5"}),(0,i.jsx)("option",{value:6,children:"6"}),(0,i.jsx)("option",{value:7,children:"7"}),(0,i.jsx)("option",{value:8,children:"8"})]})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"col-form-label font-size-18",children:"Technical Required:"}),(0,i.jsxs)("select",{className:"select",value:E,onChange:e=>{F(parseInt(e.target.value))},children:[(0,i.jsx)("option",{value:0,children:"0"}),(0,i.jsx)("option",{value:1,children:"1"}),(0,i.jsx)("option",{value:2,children:"2"}),(0,i.jsx)("option",{value:3,children:"3"}),(0,i.jsx)("option",{value:4,children:"4"})]})]})})]}):(0,i.jsx)(i.Fragment,{}),a.qnasection?a.qnasection.map(e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{className:"col-form-label font-size-18",children:[e.title,";"]}),"text"==e.type?(0,i.jsx)("input",{type:"text",placeholder:"Enter your answer",value:J[e.title]||"",onChange:s=>ed(e.title,s.target.value),className:"input text-section"}):(0,i.jsx)("ul",{className:"pkge-select",children:e.choices?e.choices.map(s=>(0,i.jsx)("li",{className:el===s.value?"active":"",children:(0,i.jsxs)("button",{onClick:()=>{ec(s.value),ed(e.title,s.text)},children:[s.text,(0,i.jsx)("br",{}),s.textdesc?s.textdesc:""]})},s._key)):(0,i.jsx)(i.Fragment,{})})]})):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)("p",{children:"Attach Pictures (upto 5)"}),(0,i.jsx)("input",{type:"file",onChange:em,multiple:!0})]})]})}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-lg-4",children:[(0,i.jsx)("div",{className:"book-title",children:(0,i.jsx)("h5",{children:"Appointment Date"})}),(0,i.jsx)("div",{children:(0,i.jsx)(o(),{selected:r,onChange:eh,timeIntervals:15,dateFormat:"MMMM d, yyyy",placeholderText:"Select Date and Time",inline:!0})})]}),(0,i.jsxs)("div",{className:"col-lg-8",children:[(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsx)("div",{className:"book-title",children:(0,i.jsx)("h5",{children:"Appointment Time"})})})}),(0,i.jsxs)("div",{className:"token-slot mt-2",children:[(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("09.00 AM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"09.00 AM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("09.30 AM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"09.30 AM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("10.00 AM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"10.00 AM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("10.30 AM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"10.30 AM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("11.00 AM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"11.00 AM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("11.30 AM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"11.30 AM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("12.00 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"12.00 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("12.30 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"12.30 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("01.00 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"01.00 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("01.30 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"01.30 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("02.00 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"02.00 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("02.30 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"02.30 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("03.00 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"03.00 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("03.30 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"03.30 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("04.00 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"04.00 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("04.30 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"04.30 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("05.00 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"05.00 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("05.30 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"05.30 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("06.00 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"06.00 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("06.30 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"06.30 PM"})]})}),(0,i.jsx)("div",{className:"form-check-inline visits me-0",children:(0,i.jsxs)("label",{className:"visit-btns",children:[(0,i.jsx)("input",{onChange:e=>{f("07.00 PM")},type:"radio",className:"form-check-input",name:"appintment"}),(0,i.jsx)("span",{className:"visit-rsn",children:"07.00 PM"})]})})]}),(0,i.jsxs)("div",{className:"book-submit text-end",children:[(0,i.jsx)("a",{href:"#",className:"btn btn-secondary",children:"Cancel"}),(0,i.jsx)("a",{onClick:()=>{C&&g&&r?v(2):alert("Please fill in all required fields.")},className:"btn btn-primary",children:"Book Appointment"})]})]})]})]});case 2:return(0,i.jsxs)("div",{className:"row",children:["guest"==er?(0,i.jsxs)("form",{className:"col-md-12",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,i.jsx)("input",{type:"text",id:"name",name:"name",value:I.name,onChange:eo,className:"form-control m-0",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,i.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",value:I.email,onChange:eo,required:!0})]}),(0,i.jsxs)("div",{className:"d-flex align-items-end",children:[(0,i.jsxs)("div",{className:"w-90",children:[(0,i.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number:"}),(0,i.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",className:"form-control",value:I.phoneNumber,onChange:eo,required:!0})]}),(0,i.jsx)("button",{className:"btn btn-primary",onClick:()=>{alert("Otp is 0000")},children:"Send OTP"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"phoneNumber",children:"OTP:"}),(0,i.jsx)("input",{type:"tel",id:"phoneNumber",name:"otp",className:"form-control",value:I.otp,onChange:eo,required:!0})]})]}):(0,i.jsx)(i.Fragment,{}),(0,i.jsxs)("div",{className:"col-lg-6",children:[(0,i.jsx)("h5",{className:"pay-title",children:"Payment Methods"}),(0,i.jsx)("div",{className:"payment-card payment-bg",children:(0,i.jsx)("div",{className:"payment-head",children:(0,i.jsxs)("div",{className:"payment-title",children:[(0,i.jsxs)("label",{className:"custom_radio",children:[(0,i.jsx)("input",{onChange:()=>{y("Wallet")},type:"radio",name:"payment",className:"card-payment"}),(0,i.jsx)("span",{className:"checkmark"})]}),(0,i.jsx)("h6",{children:"Wallet"})]})})}),(0,i.jsx)("div",{className:"payment-card",children:(0,i.jsx)("div",{className:"payment-head",children:(0,i.jsxs)("div",{className:"payment-title",children:[(0,i.jsxs)("label",{className:"custom_radio",children:[(0,i.jsx)("input",{onChange:()=>{y("COD")},type:"radio",name:"payment",className:"card-payment"}),(0,i.jsx)("span",{className:"checkmark"})]}),(0,i.jsx)("h6",{children:"Cash On Delivery"})]})})}),(0,i.jsx)("div",{className:"payment-card",children:(0,i.jsx)("div",{className:"payment-head",children:(0,i.jsxs)("div",{className:"payment-title",children:[(0,i.jsxs)("label",{className:"custom_radio credit-card-option",children:[(0,i.jsx)("input",{onChange:()=>{y("Card")},type:"radio",name:"payment",className:"card-payment"}),(0,i.jsx)("span",{className:"checkmark"})]}),(0,i.jsx)("h6",{children:"Credit / Debit Card"})]})})}),"Card"==b?(0,i.jsx)("div",{className:"payment-list",children:(0,i.jsx)("div",{className:"",children:(0,i.jsxs)("form",{children:[(0,i.jsx)("div",{children:(0,i.jsxs)("label",{children:["Card Details",(0,i.jsx)(j.CardElement,{options:{style:{base:{fontSize:"16px"}}}})]})}),(0,i.jsx)("div",{children:(0,i.jsx)("label",{})})]})})}):(0,i.jsx)(i.Fragment,{})]}),(0,i.jsxs)("div",{className:"col-lg-6",children:[(0,i.jsx)("h5",{className:"pay-title",children:"Booking Summary"}),(0,i.jsxs)("div",{className:"summary-box",children:[(0,i.jsx)("div",{className:"booking-info",children:(0,i.jsxs)("div",{className:"service-book",children:[(0,i.jsx)("div",{className:"service-book-img",children:(0,i.jsx)(c(),{width:100,height:150,src:a.imageUrl,alt:"img"})}),(0,i.jsxs)("div",{className:"serv-profile",children:[(0,i.jsx)("h2",{children:a.title}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{className:"serv-pro",children:(0,i.jsx)(c(),{width:100,height:150,src:"/assets/img/profiles/avatar-01.jpg",alt:"img"})})})]})]})}),(0,i.jsxs)("div",{className:"booking-summary",children:[(0,i.jsxs)("ul",{className:"booking-date",children:[(0,i.jsxs)("li",{children:["Date"," ",(0,i.jsxs)("span",{children:[null==r?void 0:r.getDate()," /"," ",null==r?void 0:r.getMonth()]})]}),(0,i.jsxs)("li",{children:["Time ",(0,i.jsx)("span",{children:g})]})]}),(0,i.jsxs)("ul",{className:"booking-date",children:[(0,i.jsxs)("li",{children:["Subtotal",(0,i.jsxs)("span",{children:["AED",el||eN(a.price*E*_,W).toFixed(0),".00"]})]}),(0,i.jsxs)("li",{children:["Coupon Discount",(0,i.jsxs)("span",{children:["AED"," ",el?parseInt(el)-eN(parseInt(el),W):(a.price*E*_-eN(a.price*E*_,W)).toFixed(2)+el]})]}),(0,i.jsxs)("li",{children:["Services Charges ",(0,i.jsx)("span",{children:"AED 0.00"})]}),(0,i.jsxs)("li",{children:["VAT Included (5%)"," ",(0,i.jsxs)("span",{children:["AED"," ",el?(.05*parseInt(el)).toFixed(2):(.05*eN(a.price*E*_,W)).toFixed(0)]})]})]}),(0,i.jsx)("div",{className:"booking-total",children:(0,i.jsx)("ul",{className:"booking-total-list",children:(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{children:"Total"}),(0,i.jsx)("span",{className:"total-cost",children:(0,i.jsxs)("span",{children:["AED"," ",el?eN(parseInt(el),W).toFixed(0):eN(a.price*E*_,W).toFixed(0)]})})]})})})]})]}),(0,i.jsxs)("div",{className:"booking-coupon",children:[(0,i.jsx)("div",{className:"form-group w-100",children:(0,i.jsxs)("div",{className:"coupon-icon",children:[(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"Coupon Code",value:B,onChange:ev}),(0,i.jsx)("span",{children:(0,i.jsx)(c(),{width:20,height:20,src:"/assets/img/icons/coupon-icon.svg",alt:"image"})})]})}),(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("button",{className:"btn btn-primary apply-btn",onClick:ej,children:"Apply"})})]}),(0,i.jsx)("div",{className:"booking-pay",children:"Card"!==b?(0,i.jsxs)("a",{onClick:ex,className:"btn btn-primary btn-pay w-100",children:["Proceed to Pay"," ",el?eN(parseInt(el),W).toFixed(0):eN(a.price*E*_,W).toFixed(0)]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"btn btn-primary btn-pay w-100",onClick:ex,type:"submit",disabled:Q,children:Q?"Processing...":"Pay Now"}),ee&&(0,i.jsx)("p",{style:{color:"red"},children:ee})]})})]})]});case 3:return(0,i.jsxs)("div",{className:"row align-items-center",children:[(0,i.jsx)("div",{className:"col-md-7",children:(0,i.jsxs)("div",{className:"booking-done",children:[(0,i.jsx)("h6",{children:"Successfully Completed Payment"}),(0,i.jsx)("p",{children:"Your Booking has been Successfully Competed"}),(0,i.jsx)("h5",{children:a.title}),(0,i.jsxs)("div",{className:"book-submit",children:[(0,i.jsx)(p(),{legacyBehavior:!0,href:"/users/dashboard",children:(0,i.jsxs)("a",{className:"btn btn-primary",children:[(0,i.jsx)("i",{className:"feather-arrow-left-circle"})," ","Go to Dashboard"]})}),(0,i.jsxs)("a",{href:"#",className:"btn btn-secondary",children:[(0,i.jsx)("i",{className:"fa-solid fa-calendar-days me-2"}),"Add to Calender"]}),V.name?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)(p(),{href:"/users/register",className:"btn btn-secondary",children:[(0,i.jsx)("i",{className:"fa-regular fa-circle-user me-2"}),"Register Now"]})]})]})}),(0,i.jsx)("div",{className:"col-md-5",children:(0,i.jsx)("div",{className:"booking-done",children:(0,i.jsx)(c(),{width:400,height:400,src:"/assets/img/booking-done.png",className:"img-fluid",alt:"image"})})})]})}})()]})})})})]}):(0,i.jsx)("p",{children:"Loading"})})}s.default=()=>(0,i.jsx)(x.zt,{store:u.Z,children:(0,i.jsx)(j.Elements,{stripe:g,children:(0,i.jsx)(f,{})})})}},function(e){e.O(0,[8764,5675,9668,4440,1664,433,2146,5121,8491,2010,8738,2888,9774,179],function(){return e(e.s=68564)}),_N_E=e.O()}]);