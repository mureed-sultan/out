"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5530],{35530:function(e,a,l){l.r(a);var s=l(85893),r=l(67294),t=l(25675),c=l.n(t),n=l(99811);a.default=function(e){let[a,l]=(0,r.useState)(null),[t,o]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),[N,f]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[E,Y]=(0,r.useState)(""),[w,P]=(0,r.useState)(""),[_,k]=(0,r.useState)(""),[A,U]=(0,r.useState)(null);(0,r.useEffect)(()=>{!async function(){try{let a='*[_type == "user" && username == "'.concat(e.name,'"]{\n                    ...,\n                    "profilePictureUrl": profilepicture.asset->url // Fetching the profilePicture URL\n\n                }'),s=await n.Z.fetch(a);l(s[0]),o(s[0].username),u(s[0].email),x(s[0].phonenumber),j(s[0].gender),f(s[0].dateOfBirth),g(s[0].bio),y(s[0].address),S(s[0].country),Y(s[0].state),P(s[0].city),k(s[0].postalCode),d(s[0].profilePictureUrl)}catch(e){console.error("Error fetching user data:",e)}}()},[e.name]);let M=async e=>{if(e.preventDefault(),!A){alert("Please select an image.");return}try{let e=await n.Z.assets.upload("image",A,{filename:A.name});d(e.url),await n.Z.patch(a._id).set({username:t,email:m,phonenumber:h,gender:p,dateOfBirth:N,bio:v,address:b,country:C,state:E,city:w,postalCode:_,profilepicture:{asset:{_ref:e._id}}}).commit(),U(null),alert("Your information is updated")}catch(e){console.error("Error updating user data:",e)}};return(0,s.jsxs)("div",{className:"col-lg-9",children:[(0,s.jsx)("div",{className:"widget-title",children:(0,s.jsx)("h4",{children:"Account Settings"})}),(0,s.jsx)("h6",{className:"user-title",children:"Profile Picture"}),(0,s.jsxs)("div",{className:"pro-picture",children:[(0,s.jsx)("div",{className:"pro-img",children:(0,s.jsx)(c(),{width:100,height:100,src:i||"/assets/img/profiles/avatar-02.jpg",alt:"user"})}),(0,s.jsxs)("div",{className:"pro-info",children:[(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsxs)("div",{className:"img-upload",children:[(0,s.jsx)("i",{className:"feather-upload-cloud me-1"}),"Upload",(0,s.jsx)("input",{type:"file",className:"form-control",accept:"image/*",onChange:e=>{let a=e.target.files&&e.target.files[0];a&&U(a)}}),"                        "]}),(0,s.jsx)("a",{href:"#",className:"btn btn-remove",children:"Remove"})]}),(0,s.jsx)("p",{children:"*image size should be at least 320px big,and less then 500kb. Allowed files .png and .jpg."})]})]}),(0,s.jsx)("h6",{className:"user-title",children:"General Information"}),(0,s.jsxs)("form",{onSubmit:M,children:[(0,s.jsx)("div",{className:"general-info",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{className:"col-form-label",children:["Name ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)("input",{value:t,onChange:e=>{o(e.target.value)},type:"text",className:"form-control",placeholder:"Enter Your Name"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:"User Name"}),(0,s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Your User Name"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{className:"col-form-label",children:["Email ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)("input",{value:m,onChange:e=>{u(e.target.value)},type:"email",className:"form-control",placeholder:"Enter Email Address"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{className:"col-form-label",children:["Mobile Number ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)("input",{value:h,onChange:e=>{x(e.target.value)},type:"text",className:"form-control",placeholder:"Enter Mobile Number"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:"Gender"}),(0,s.jsxs)("select",{className:"select",value:p,onChange:e=>{j(e.target.value)},children:[(0,s.jsx)("option",{children:"Select Gender"}),(0,s.jsx)("option",{children:"Male"}),(0,s.jsx)("option",{children:"Female"})]})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:"Date of birth"}),(0,s.jsxs)("div",{className:"form-icon",children:[(0,s.jsx)("input",{value:N,onChange:e=>{f(e.target.value)},type:"text",className:"form-control datetimepicker",placeholder:"DD/MM/YYYY"}),(0,s.jsx)("span",{className:"cus-icon",children:(0,s.jsx)("i",{className:"feather-calendar"})})]})]})}),(0,s.jsx)("div",{className:"col-md-12",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{className:"col-form-label d-block",children:["Your Bio ",(0,s.jsx)("span",{className:"brief-bio float-end"})]}),(0,s.jsx)("textarea",{value:v,onChange:e=>{g(e.target.value)},className:"form-control",placeholder:"Add a Short Bio....."})]})})]})}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-md-12",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:"Address"}),(0,s.jsx)("input",{value:b,onChange:e=>{y(e.target.value)},type:"text",className:"form-control",placeholder:"Enter Your Address"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:"Country"}),(0,s.jsx)("input",{value:C,onChange:e=>{S(e.target.value)},type:"text",className:"form-control",placeholder:"Enter Your Country"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:"State"}),(0,s.jsx)("input",{value:E,onChange:e=>{Y(e.target.value)},type:"text",className:"form-control",placeholder:"Enter Your State"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:"City"}),(0,s.jsx)("input",{value:w,onChange:e=>{P(e.target.value)},type:"text",className:"form-control",placeholder:"Enter Your City"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:"Postal Code"}),(0,s.jsx)("input",{value:_,onChange:e=>{k(e.target.value)},type:"text",className:"form-control",placeholder:"Enter Your Postal Code"})]})})]}),(0,s.jsxs)("div",{className:"acc-submit",children:[(0,s.jsx)("button",{className:"btn btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})]})}}}]);